# todo-app

Домашняя работа по WebAPI с DDD и работой с HTTP, WebSocket.

Сейчас доступны следующие эндпоинты

CRUD-эндпоинты по задачам:

- GET /tasks
- GET /tasks/:id
- POST /tasks
- DELETE /tasks/:id
- PATCH /tasks/:id

Фоновая задача

- POST /task-generator/run

Websocket при работе с задачами

- WS /ws/tasks

## Запуск

Перед запуском необходимо создать `.env`-файл с параметрами из .env.example, он необходим для конфигурирования базы данных, подключения к базе данных и настройке FastAPI приложения, также нужно указать эндпоинт для получения тасок из внешнего сервера, с которого будут периодически подтягиваться новые задачи.

### Локально

Можно запустить сервер локально, необходимо установить зависимости либо с помощью uv, либо с помощью pip. Точка входа - `main.py`

#### pip

```bash
pip install -r requirements.txt
python main.py
```

#### uv

```bash
uv sync --locked
uv run python main.py
```

### Внутри Docker

Для запуска внутри Docker необходимо воспользоваться командой

```
docker compose up -d --build
```

После неё поднимется два контейнера:

1. postgresql
2. fastapi (бекенд)

## Авто-тесты

Для проекта можно запустить автотесты для эндпоинтов `/tasks`
